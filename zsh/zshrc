# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Source aliases
source $HOME/.zsh/aliases.zsh
source $HOME/.zsh/functions.zsh

# Source fzf keyboard cmds: control-t (search), etc.
[[ "$(uname -s)" == "Linux" ]] && source /usr/share/fzf/key-bindings.zsh
[[ "$(uname -s)" == "Linux" ]] && source /usr/share/fzf/completion.zsh
[[ "$(uname -s)" == "Darwin" ]] && source /usr/local/opt/fzf/shell/key-bindings.zsh
[[ "$(uname -s)" == "Darwin" ]] && source /usr/local/opt/fzf/shell/completion.zsh

# user scripts
export PATH="$HOME/bin:$PATH"

# needed by homebrew for some package executables
export PATH="/usr/local/sbin:$PATH"
export PATH="$HOME/.node/bin:$PATH"

# fzf
export FZF_DEFAULT_COMMAND='rg --files --hidden --follow --no-ignore-vcs'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export FZF_DEFAULT_OPTS='--height=70% --preview="bat --style=numbers --color=always {}"'

# python/pyenv/poetry
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"

export POETRY_ROOT="$HOME/.poetry"
export PATH="$POETRY_ROOT/env:$PATH"
export PATH="$POETRY_ROOT/bin:$PATH"

setopt RM_STAR_WAIT           # pause before confirming rm *
setopt clobber                # turn off zsh: file exists warning

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
